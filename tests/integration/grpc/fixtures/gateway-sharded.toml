[shared]
jwt_secret = "changemeplease"
gatewaysvc = "{{grpc_address}}"

[grpc]
address = "{{grpc_address}}"

[grpc.services.gateway]
# registries
storageregistrysvc = "{{grpc_address}}"

[grpc.services.authregistry]
driver = "static"

[grpc.services.authregistry.drivers.static.rules]
basic = "{{users_address}}"

[grpc.services.storageregistry]
driver = "spaces"

[grpc.services.storageregistry.drivers.spaces]
home_template = "/users/{{.Id.OpaqueId}}"

[grpc.services.storageregistry.drivers.spaces.rules]
"/projects/[a-k]" = {"address" = "{{storage_address}}", "space_type" = "project", "path_template" = "/projects/{{.Space.Name}}"}
"/projects/[l-z]" = {"address" = "{{storage2_address}}", "space_type" = "project", "path_template" = "/projects/{{.Space.Name}}"}

"/users" = {"address" = "{{homestorage_address}}", "space_type" = "personal", "path_template" = "/users/{{.Space.Owner.Id.OpaqueId}}"}

[http]
address = "{{grpc_address+1}}"

[http.services.datagateway]
transfer_shared_secret = "replace-me-with-a-transfer-secret"
